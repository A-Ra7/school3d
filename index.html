<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D –®–∫–æ–ª–∞ –ë—É–¥—É—â–µ–≥–æ</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: linear-gradient(to bottom, #87CEEB 0%, #B0E0E6 100%);
            font-family: Arial, sans-serif;
        }
        #info {
            position: absolute;
            top: 15px;
            width: 100%;
            text-align: center;
            color: white;
            font-size: 20px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
            z-index: 100;
            pointer-events: none;
        }
        #controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            padding: 12px;
            border-radius: 8px;
            font-size: 14px;
            max-width: 300px;
        }
    </style>
</head>
<body>
    <div id="info">üè´ 3D –®–∫–æ–ª–∞ –ë—É–¥—É—â–µ–≥–æ</div>
    <div id="controls">
        <strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong><br>
        ‚Ä¢ –õ–ö–ú + –¥–≤–∏–∂–µ–Ω–∏–µ = –≤—Ä–∞—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã<br>
        ‚Ä¢ –ü–ö–ú + –¥–≤–∏–∂–µ–Ω–∏–µ = –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã<br>
        ‚Ä¢ –ö–æ–ª—ë—Å–∏–∫–æ –º—ã—à–∏ = –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ/–æ—Ç–¥–∞–ª–µ–Ω–∏–µ<br>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ü–µ–Ω—ã
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x87CEEB);
        
        // –ö–∞–º–µ—Ä–∞
        const camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(30, 30, 70);
        
        // –†–µ–Ω–¥–µ—Ä–µ—Ä
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.shadowMap.enabled = true;
        document.body.appendChild(renderer.domElement);
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        
        // –û—Å–≤–µ—â–µ–Ω–∏–µ
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
        scene.add(ambientLight);
        
        const sunLight = new THREE.DirectionalLight(0xffffff, 0.7);
        sunLight.position.set(15, 25, 15);
        sunLight.castShadow = true;
        sunLight.shadow.mapSize.width = 1024;
        sunLight.shadow.mapSize.height = 1024;
        scene.add(sunLight);
        
        // –°–æ–∑–¥–∞–Ω–∏–µ —à–∫–æ–ª—ã
        function createSchool() {
            const school = new THREE.Group();
            
            // –û—Å–Ω–æ–≤–Ω–æ–µ –∑–¥–∞–Ω–∏–µ (2 —ç—Ç–∞–∂–∞)
            const building = new THREE.Mesh(
                new THREE.BoxGeometry(30, 12, 25),
                new THREE.MeshPhongMaterial({ color: 0xf0f0f0 })
            );
            building.position.y = 6;
            building.castShadow = true;
            building.receiveShadow = true;
            school.add(building);

            // –û—Å–Ω–æ–≤–Ω–æ–µ –∑–¥–∞–Ω–∏–µ 2 (2 —ç—Ç–∞–∂–∞)
            const building2 = new THREE.Mesh(
                new THREE.BoxGeometry(20, 12, 25),
                new THREE.MeshPhongMaterial({ color: 0xf0f0f0 })
            );
            building2.position.y = 6;
            building2.position.x = -38;
            building2.castShadow = true;
            building2.receiveShadow = true;
            school.add(building2);
            
            // –†–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª–æ—Å—ã
            const stripeColors = [
                0xFFA500, // –û—Ä–∞–Ω–∂–µ–≤—ã–π
                0x0000FF, // –°–∏–Ω–∏–π
                0xFF0000, // –ö—Ä–∞—Å–Ω—ã–π
                0x800080, // –§–∏–æ–ª–µ—Ç–æ–≤—ã–π
                0xFFFF00  // –ñ–µ–ª—Ç—ã–π
            ];
            
            // –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–æ—Å –Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π –∏ –∑–∞–¥–Ω–µ–π —Å—Ç–µ–Ω–∞—Ö
            for (let i = 0; i < 5; i++) {
                // –ü–µ—Ä–µ–¥–Ω—è—è —Å—Ç–µ–Ω–∞
                const stripeFront = new THREE.Mesh(
                    new THREE.BoxGeometry(0.5, 12, 0.2),
                    new THREE.MeshPhongMaterial({ color: stripeColors[i] })
                );
                stripeFront.position.set(-12 + i * 6, 6, 12.6);
                school.add(stripeFront);
                
                // –ó–∞–¥–Ω—è—è —Å—Ç–µ–Ω–∞
                const stripeBack = new THREE.Mesh(
                    new THREE.BoxGeometry(0.5, 12, 0.2),
                    new THREE.MeshPhongMaterial({ color: stripeColors[i] })
                );
                stripeBack.position.set(-12 + i * 6, 6, -12.6);
                school.add(stripeBack);
            }
            
            // –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å–Ω–∞—è –ª–∏–Ω–∏—è –º–µ–∂–¥—É —ç—Ç–∞–∂–∞–º–∏
            const floorLine = new THREE.Mesh(
                new THREE.BoxGeometry(30.2, 0.2, 25.2),
                new THREE.MeshPhongMaterial({ color: 0x808080 })
            );
            floorLine.position.y = 6;
            school.add(floorLine);

            // –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å–Ω–∞—è –ª–∏–Ω–∏—è –º–µ–∂–¥—É —ç—Ç–∞–∂–∞–º–∏ (–≤—Ç–æ—Ä–æ–µ –∑–¥–∞–Ω–∏–µ)
            const floorLine2 = new THREE.Mesh(
                new THREE.BoxGeometry(20.2, 0.2, 25.2),
                new THREE.MeshPhongMaterial({ color: 0x808080 })
            );
            floorLine2.position.set(-38, 6, 0);
            school.add(floorLine2);
            
            // –î–≤—É—Å–∫–∞—Ç–Ω–∞—è –∫—Ä—ã—à–∞
            const roofPoints = [
                new THREE.Vector2(-16, 0),
                new THREE.Vector2(0, 4),
                new THREE.Vector2(16, 0)
            ];
            
            const roofShape = new THREE.Shape(roofPoints);
            const roofGeometry = new THREE.ExtrudeGeometry(roofShape, {
                depth: 27,
                bevelEnabled: false,
                steps: 1
            });
            
            // –ü–æ–≤–æ—Ä–æ—Ç –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä—ã—à–∏

            roofGeometry.translate(0, 12, -13.5);
            
            const roof = new THREE.Mesh(
                roofGeometry, 
                new THREE.MeshPhongMaterial({ 
                    color: 0x8B0000,
                    side: THREE.DoubleSide
                })
            );
            school.add(roof);

            // –î–≤—É—Å–∫–∞—Ç–Ω–∞—è –∫—Ä—ã—à–∞ 2
            const roofPoints2 = [
                new THREE.Vector2(-15, 0),
                new THREE.Vector2(0, 4),
                new THREE.Vector2(15, 0)
            ];
            
            const roofShape2 = new THREE.Shape(roofPoints2);
            const roofGeometry2 = new THREE.ExtrudeGeometry(roofShape2, {
                depth: 22,
                bevelEnabled: false,
                steps: 1
            });

            // –ü–æ–≤–æ—Ä–æ—Ç –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä—ã—à–∏ 2
            roofGeometry2.translate(0, 12, -48.7);
            roofGeometry2.rotateY(Math.PI / 2);
            
            const roof2 = new THREE.Mesh(
                roofGeometry2, 
                new THREE.MeshPhongMaterial({ 
                    color: 0x8B0000,
                    side: THREE.DoubleSide
                })
            );
            school.add(roof2);
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–∫–æ–Ω
            function createWindow(x, y, z, rotationY, width = 4, height = 2.5) {
                const windowGroup = new THREE.Group();
                
                // –°—Ç–µ–∫–ª–æ
                const glass = new THREE.Mesh(
                    new THREE.BoxGeometry(width, height, 0.1),
                    new THREE.MeshPhongMaterial({ 
                        color: 0x87CEEB,
                        transparent: true,
                        opacity: 0.7
                    })
                );
                windowGroup.add(glass);
                
                // –†–∞–º–∞
                const frameMaterial = new THREE.MeshPhongMaterial({ color: 0x3A9F7F });
                const verticalFrame = new THREE.Mesh(
                    new THREE.BoxGeometry(0.2, height, 0.2),
                    frameMaterial
                );
                windowGroup.add(verticalFrame);

                const verticalFrame2 = new THREE.Mesh(
                    new THREE.BoxGeometry(0.2, height, 0.2),
                    frameMaterial
                );
                
                const horizontalFrame = new THREE.Mesh(
                    new THREE.BoxGeometry(width, 0.2, 0.2),
                    frameMaterial
                );
                horizontalFrame.position.y = height/2;
                windowGroup.add(horizontalFrame);
                
                const horizontalFrame2 = new THREE.Mesh(
                    new THREE.BoxGeometry(width, 0.2, 0.2),
                    frameMaterial
                );
                horizontalFrame2.position.y = -height/2;
                windowGroup.add(horizontalFrame2);
                
                windowGroup.position.set(x, y, z);
                windowGroup.rotation.y = rotationY;
                
                return windowGroup;
            }
            
            // –û–∫–Ω–∞ –ø–µ—Ä–≤–æ–≥–æ —ç—Ç–∞–∂–∞ (–ø–µ—Ä–µ–¥–Ω—è—è —Å—Ç–µ–Ω–∞)
            for (let x = -12; x <= 12; x += 6) {
                school.add(createWindow(x, 3.5, 12.7, 0));
            }
            
            // –û–∫–Ω–∞ –≤—Ç–æ—Ä–æ–≥–æ —ç—Ç–∞–∂–∞ (–ø–µ—Ä–µ–¥–Ω—è—è —Å—Ç–µ–Ω–∞)
            for (let x = -12; x <= 12; x += 6) {
                school.add(createWindow(x, 8.5, 12.7, 0));
            }
            
            // –û–∫–Ω–∞ –ø–µ—Ä–≤–æ–≥–æ —ç—Ç–∞–∂–∞ (–∑–∞–¥–Ω—è—è —Å—Ç–µ–Ω–∞)
            for (let x = -12; x <= 12; x += 6) {
                school.add(createWindow(x, 3.5, -12.7, Math.PI));
            }
            
            // –û–∫–Ω–∞ –≤—Ç–æ—Ä–æ–≥–æ —ç—Ç–∞–∂–∞ (–∑–∞–¥–Ω—è—è —Å—Ç–µ–Ω–∞)
            for (let x = -12; x <= 12; x += 6) {
                school.add(createWindow(x, 8.5, -12.7, Math.PI));
            }
            
            // –û–∫–Ω–∞ –ø–µ—Ä–≤–æ–≥–æ —ç—Ç–∞–∂–∞ (–ª–µ–≤–∞—è —Å—Ç–µ–Ω–∞)
            for (let z = -9; z <= 9; z += 6) {
                school.add(createWindow(-15.1, 3.5, z, Math.PI/2, 3.5, 2.5));
            }
            
            // –û–∫–Ω–∞ –≤—Ç–æ—Ä–æ–≥–æ —ç—Ç–∞–∂–∞ (–ª–µ–≤–∞—è —Å—Ç–µ–Ω–∞)
            for (let z = -9; z <= 9; z += 6) {
                school.add(createWindow(-15.1, 8.5, z, Math.PI/2, 3.5, 2.5));
            }
            
            // –û–∫–Ω–∞ –ø–µ—Ä–≤–æ–≥–æ —ç—Ç–∞–∂–∞ (–ø—Ä–∞–≤–∞—è —Å—Ç–µ–Ω–∞)
            for (let z = -9; z <= 9; z += 6) {
                school.add(createWindow(15.1, 3.5, z, -Math.PI/2, 3.5, 2.5));
            }
            
            // –û–∫–Ω–∞ –≤—Ç–æ—Ä–æ–≥–æ —ç—Ç–∞–∂–∞ (–ø—Ä–∞–≤–∞—è —Å—Ç–µ–Ω–∞)
            for (let z = -9; z <= 9; z += 6) {
                school.add(createWindow(15.1, 8.5, z, -Math.PI/2, 3.5, 2.5));
            }
            

            // –û–∫–Ω–∞ –≤—Ç–æ—Ä–æ–≥–æ –∑–¥–∞–Ω–∏—è (–ø–µ—Ä–µ–¥–Ω—è—è —Å—Ç–µ–Ω–∞)
            for (let x = -8; x <= 8; x += 5) {
                school.add(createWindow(x - 38, 3.5, 12.7, 0, 3, 2.5));
                school.add(createWindow(x - 38, 8.5, 12.7, 0, 3, 2.5));
            }
            
            // –û–∫–Ω–∞ –≤—Ç–æ—Ä–æ–≥–æ –∑–¥–∞–Ω–∏—è (–∑–∞–¥–Ω—è—è —Å—Ç–µ–Ω–∞)
            for (let x = -8; x <= 8; x += 5) {
                school.add(createWindow(x - 38, 3.5, -12.7, Math.PI, 3, 2.5));
                school.add(createWindow(x - 38, 8.5, -12.7, Math.PI, 3, 2.5));
            }
            
            // –û–∫–Ω–∞ –≤—Ç–æ—Ä–æ–≥–æ –∑–¥–∞–Ω–∏—è (–ø—Ä–∞–≤–∞—è —Å—Ç–µ–Ω–∞)
            for (let z = -9; z <= 9; z += 6) {
                school.add(createWindow(-27.9, 3.5, z, Math.PI/2, 3.5, 2.5));
                school.add(createWindow(-27.9, 8.5, z, Math.PI/2, 3.5, 2.5));
            }
            
            // –û–∫–Ω–∞ –≤—Ç–æ—Ä–æ–≥–æ –∑–¥–∞–Ω–∏—è (–ª–µ–≤–∞—è —Å—Ç–µ–Ω–∞)
            for (let z = -9; z <= 9; z += 6) {
                school.add(createWindow(-48.1, 3.5, z, -Math.PI/2, 3.5, 2.5));
                school.add(createWindow(-48.1, 8.5, z, -Math.PI/2, 3.5, 2.5));
            }

            // –í—Ö–æ–¥–Ω–∞—è –≥—Ä—É–ø–ø–∞
            const entrance = new THREE.Group();
            
            const entranceBase = new THREE.Mesh(
                new THREE.BoxGeometry(8, 5, 5),
                new THREE.MeshPhongMaterial({ color: 0xf0f0f0 })
            );
            entranceBase.position.set(0, 2.5, 12.5);
            entrance.add(entranceBase);
            
            const door = new THREE.Mesh(
                new THREE.BoxGeometry(2.5, 3.5, 0.2),
                new THREE.MeshPhongMaterial({ color: 0x8B4513 })
            );
            door.position.set(0, 1.75, 15.1);
            entrance.add(door);
            
            school.add(entrance);
            
            // –õ–µ—Å—Ç–Ω–∏—á–Ω–∞—è –∫–ª–µ—Ç–∫–∞ —Å–±–æ–∫—É
            const stairwell = new THREE.Mesh(
                new THREE.BoxGeometry(20, 6, 6),
                new THREE.MeshPhongMaterial({ color: 0xf0f0f0 })
            );
            stairwell.position.set(-18, 3, 0);
            school.add(stairwell);
            
            // –û–∫–Ω–∞ –ª–µ—Å—Ç–Ω–∏—á–Ω–æ–π –∫–ª–µ—Ç–∫–∏ –Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π –∏ –∑–∞–¥–Ω–µ–π —Å—Ç–µ–Ω–∫–∞—Ö
            // –í—ã—Å–æ–∫–∏–µ —É–∑–∫–∏–µ –æ–∫–Ω–∞
            const createStairWindow = (x, y, z, rotationY) => {
                const windowGroup = new THREE.Group();
                
                // –°—Ç–µ–∫–ª–æ
                const glass = new THREE.Mesh(
                    new THREE.BoxGeometry(3, 3, 0.1),
                    new THREE.MeshPhongMaterial({ 
                        color: 0x87CEEB,
                        transparent: true,
                        opacity: 0.7
                    })
                );
                windowGroup.add(glass);
                
                // –†–∞–º–∞
                const frameMaterial = new THREE.MeshPhongMaterial({ color: 0x3A9F7F });
                
                // –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–º—ã
                const verticalFrame1 = new THREE.Mesh(
                    new THREE.BoxGeometry(0.2, 3, 0.2),
                    frameMaterial
                );
                verticalFrame1.position.set(-1.4, 0, 0);
                windowGroup.add(verticalFrame1);
                
                const verticalFrame2 = new THREE.Mesh(
                    new THREE.BoxGeometry(0.2, 3, 0.2),
                    frameMaterial
                );
                verticalFrame2.position.set(1.4, 0, 0);
                windowGroup.add(verticalFrame2);
                
                // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–º—ã
                const horizontalFrame1 = new THREE.Mesh(
                    new THREE.BoxGeometry(3, 0.2, 0.2),
                    frameMaterial
                );
                horizontalFrame1.position.set(0, 1.5, 0);
                windowGroup.add(horizontalFrame1);
                
                windowGroup.position.set(x, y, z);
                windowGroup.rotation.y = rotationY;

                const horizontalFrame2 = new THREE.Mesh(
                    new THREE.BoxGeometry(3, 0.2, 0.2),
                    frameMaterial
                );
                horizontalFrame2.position.set(0, -1.5, 0);
                windowGroup.add(horizontalFrame2);
                
                windowGroup.position.set(x, y, z);
                windowGroup.rotation.y = rotationY;
                
                return windowGroup;
            };
            
            // –ü–µ—Ä–µ–¥–Ω—è—è —Å—Ç–µ–Ω–∞ –ª–µ—Å—Ç–Ω–∏—á–Ω–æ–π –∫–ª–µ—Ç–∫–∏ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ Z)
            for (let x = -24.9; x <= -12; x += 6) {
                // –ü–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å
                school.add(createStairWindow(x, 3.5, 3.1, 0));
            }
            
            // –ó–∞–¥–Ω—è—è —Å—Ç–µ–Ω–∞ –ª–µ—Å—Ç–Ω–∏—á–Ω–æ–π –∫–ª–µ—Ç–∫–∏ (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ Z)
            for (let x = -24.9; x <= -12; x += 6) {
                // –ü–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å
                school.add(createStairWindow(x, 3.5, -3.1, Math.PI));
            }
            
            // –§–ª–∞–≥—à—Ç–æ–∫
            const flagPole = new THREE.Mesh(
                new THREE.CylinderGeometry(0.1, 0.1, 8, 8),
                new THREE.MeshPhongMaterial({ color: 0xC0C0C0 })
            );
            flagPole.position.set(13, 13, -10);
            school.add(flagPole);
            
            // –§–ª–∞–≥ –†–æ—Å—Å–∏–∏ (—Ç—Ä–∏–∫–æ–ª–æ—Ä)
            const flagGroup = new THREE.Group();
            
            // –ë–µ–ª–∞—è –ø–æ–ª–æ—Å–∞
            const whiteStripe = new THREE.Mesh(
                new THREE.PlaneGeometry(3, 0.66),
                new THREE.MeshPhongMaterial({ 
                    color: 0xFFFFFF,
                    side: THREE.DoubleSide 
                })
            );
            whiteStripe.position.y = 0.66;
            flagGroup.add(whiteStripe);
            
            // –°–∏–Ω—è—è –ø–æ–ª–æ—Å–∞
            const blueStripe = new THREE.Mesh(
                new THREE.PlaneGeometry(3, 0.66),
                new THREE.MeshPhongMaterial({ 
                    color: 0x0000FF,
                    side: THREE.DoubleSide 
                })
            );
            flagGroup.add(blueStripe);
            
            // –ö—Ä–∞—Å–Ω–∞—è –ø–æ–ª–æ—Å–∞
            const redStripe = new THREE.Mesh(
                new THREE.PlaneGeometry(3, 0.66),
                new THREE.MeshPhongMaterial({ 
                    color: 0xFF0000,
                    side: THREE.DoubleSide 
                })
            );
            redStripe.position.y = -0.66;
            flagGroup.add(redStripe);
            
            flagGroup.position.set(14.5, 16, -10);
            school.add(flagGroup);
            
            return school;
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏
        function createEnvironment() {
            const env = new THREE.Group();
            
            // –û—Å–Ω–æ–≤–Ω–æ–π –≥–∞–∑–æ–Ω
            const ground = new THREE.Mesh(
                new THREE.PlaneGeometry(100, 100),
                new THREE.MeshPhongMaterial({ 
                    color: 0x32CD32,
                    side: THREE.DoubleSide
                })
            );
            ground.rotation.x = -Math.PI / 2;
            ground.receiveShadow = true;
            env.add(ground);
            
            // –î–æ—Ä–æ–∂–∫–∏
            const pathMaterial = new THREE.MeshPhongMaterial({ color: 0xA9A9A9 });
            
            const mainPath = new THREE.Mesh(
                new THREE.BoxGeometry(10, 0.2, 100),
                pathMaterial
            );
            mainPath.position.set(0, 0.1, 0);
            env.add(mainPath);
            
            const crossPath = new THREE.Mesh(
                new THREE.BoxGeometry(100, 0.2, 8),
                pathMaterial
            );
            crossPath.position.set(0, 0.1, 15);
            env.add(crossPath);
            
            // –°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –ø–ª–æ—â–∞–¥–∫–∞
            const playground = new THREE.Mesh(
                new THREE.BoxGeometry(35, 0.1, 25),
                new THREE.MeshPhongMaterial({ color: 0x2E8B57 })
            );
            playground.position.set(32.5, 0.05, 0);
            playground.receiveShadow = true;
            env.add(playground);
            
            // –ë–∞—Å–∫–µ—Ç–±–æ–ª—å–Ω—ã–µ —Å—Ç–æ–π–∫–∏
            const createBasket = (x, z) => {
                const basket = new THREE.Group();
                
                const pole = new THREE.Mesh(
                    new THREE.CylinderGeometry(0.3, 0.3, 3, 8),
                    new THREE.MeshPhongMaterial({ color: 0xC0C0C0 })
                );
                pole.position.y = 1.5;
                basket.add(pole);
                
                const board = new THREE.Mesh(
                    new THREE.BoxGeometry(2, 1.8, 0.1),
                    new THREE.MeshPhongMaterial({ color: 0x1E90FF })
                );
                board.position.set(0, 3, 0.4);
                basket.add(board);
                
                const ring = new THREE.Mesh(
                    new THREE.TorusGeometry(0.4, 0.05, 8, 20),
                    new THREE.MeshPhongMaterial({ color: 0xFF4500 })
                );
                ring.rotation.x = Math.PI / 2;
                ring.position.set(0, 3, 0.9);
                basket.add(ring);
                
                basket.position.set(x, 0, z);
                return basket;
            };
            
            env.add(createBasket(27, -10));
            env.add(createBasket(40, -10));
            
            // –î–µ—Ä–µ–≤—å—è
            const createTree = (x, z) => {
                const tree = new THREE.Group();
                
                const trunk = new THREE.Mesh(
                    new THREE.CylinderGeometry(0.6, 0.6, 3, 8),
                    new THREE.MeshPhongMaterial({ color: 0x8B4513 })
                );
                trunk.position.y = 1.5;
                
                const crown = new THREE.Mesh(
                    new THREE.ConeGeometry(3, 6, 8),
                    new THREE.MeshPhongMaterial({ color: 0x228B22 })
                );
                crown.position.y = 5;
                
                tree.add(trunk);
                tree.add(crown);
                tree.position.set(x, 0, z);
                
                return tree;
            };
            
            // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–µ—Ä–µ–≤—å—è
            env.add(createTree(-18, -20));
            env.add(createTree(10, 21));
            env.add(createTree(10, -5));
            env.add(createTree(-11, 21));
            env.add(createTree(10, -20));
            env.add(createTree(45, 21));
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è –≤–æ–∫—Ä—É–≥ —à–∫–æ–ª—ã
            env.add(createTree(-30, -25));
            env.add(createTree(-30, 25));
            env.add(createTree(30, 25));
            env.add(createTree(30, -25));
            env.add(createTree(40, -35));
            env.add(createTree(-40, 35));
            
            // –õ–∞–≤–æ—á–∫–∏ —Å 4 –Ω–æ–∂–∫–∞–º–∏
            const createBench = (x, z, rotation) => {
                const bench = new THREE.Group();
                
                // –°–∏–¥–µ–Ω—å–µ
                const seat = new THREE.Mesh(
                    new THREE.BoxGeometry(3, 0.4, 1),
                    new THREE.MeshPhongMaterial({ color: 0x8B4513 })
                );
                seat.position.set(0, 1.2, 0);
                bench.add(seat);
                
                // –°–ø–∏–Ω–∫–∞
                const back = new THREE.Mesh(
                    new THREE.BoxGeometry(3, 1, 0.1),
                    new THREE.MeshPhongMaterial({ color: 0x8B4513 })
                );
                back.position.set(0, 1.9, -0.45);
                bench.add(back);
                
                // 4 –Ω–æ–∂–∫–∏ (–ø–æ —É–≥–ª–∞–º)
                const legPositions = [
                    { x: -1.4, z: 0.3 },
                    { x: 1.4, z: 0.3 },
                    { x: -1.4, z: -0.3 },
                    { x: 1.4, z: -0.3 }
                ];
                
                for (const pos of legPositions) {
                    const leg = new THREE.Mesh(
                        new THREE.BoxGeometry(0.2, 1.2, 0.2),
                        new THREE.MeshPhongMaterial({ color: 0x696969 })
                    );
                    leg.position.set(pos.x, 0.6, pos.z);
                    bench.add(leg);
                }
                
                bench.rotation.y = rotation;
                bench.position.set(x, 0, z);
                return bench;
            };
            
            env.add(createBench(-10.9, 27, Math.PI/2));
            env.add(createBench(10, 27, -Math.PI/2));
            env.add(createBench(-10, -20, Math.PI));
            
            // –®–∫–æ–ª—å–Ω—ã–π –∞–≤—Ç–æ–±—É—Å —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏
            function createBus(x, y, z, rotationY) {
                const bus = new THREE.Group();
                
                // –ö—É–∑–æ–≤ (–∂–µ–ª—Ç—ã–π)
                const body = new THREE.Mesh(
                    new THREE.BoxGeometry(8, 3, 4),
                    new THREE.MeshPhongMaterial({ color: 0xffd700 })
                );
                body.position.y = 2;
                bus.add(body);
                
                // –ö—Ä—ã—à–∞ (–Ω–µ–º–Ω–æ–≥–æ –≤—ã—à–µ –∏ —É–∂–µ)
                const roof = new THREE.Mesh(
                    new THREE.BoxGeometry(6, 1, 3.5),
                    new THREE.MeshPhongMaterial({ color: 0xffd700 })
                );
                roof.position.y = 3.5;
                bus.add(roof);
                
                // –ü–µ—Ä–µ–¥–Ω—è—è —á–∞—Å—Ç—å (–∫–∞–±–∏–Ω–∞)
                const front = new THREE.Mesh(
                    new THREE.BoxGeometry(2, 2.5, 3.5),
                    new THREE.MeshPhongMaterial({ color: 0xffd700 })
                );
                front.position.set(4, 1.75, 0);
                bus.add(front);
                
                // –ú–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è –æ–∫–æ–Ω
                const windowMaterial = new THREE.MeshPhongMaterial({ 
                    color: 0x87CEEB, 
                    transparent: true, 
                    opacity: 0.7 
                });
                
                // –£–ª—É—á—à–µ–Ω–Ω—ã–µ –±–æ–∫–æ–≤—ã–µ –æ–∫–Ω–∞
                // –õ–µ–≤–æ–µ –±–æ–∫–æ–≤–æ–µ –æ–∫–Ω–æ (–≤–¥–æ–ª—å –≤—Å–µ–≥–æ –∞–≤—Ç–æ–±—É—Å–∞)
                const leftWindow = new THREE.Mesh(
                    new THREE.BoxGeometry(7.5, 1.2, 0.1),
                    windowMaterial
                );
                leftWindow.position.set(0, 2.5, -2.05);
                bus.add(leftWindow);
                
                // –ü—Ä–∞–≤–æ–µ –±–æ–∫–æ–≤–æ–µ –æ–∫–Ω–æ (–≤–¥–æ–ª—å –≤—Å–µ–≥–æ –∞–≤—Ç–æ–±—É—Å–∞)
                const rightWindow = new THREE.Mesh(
                    new THREE.BoxGeometry(7.5, 1.2, 0.1),
                    windowMaterial
                );
                rightWindow.position.set(0, 2.5, 2.05);
                bus.add(rightWindow);
                
                // –ü–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∏ –º–µ–∂–¥—É –æ–∫–Ω–∞–º–∏
                const dividerMaterial = new THREE.MeshPhongMaterial({ color: 0x333333 });
                
                // –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∏ –º–µ–∂–¥—É –æ–∫–Ω–∞–º–∏
                for (let i = -2; i <= 2; i += 1.5) {
                    if (i === 0) continue; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Ü–µ–Ω—Ç—Ä
                    const divider = new THREE.Mesh(
                        new THREE.BoxGeometry(0.1, 1.2, 0.2),
                        dividerMaterial
                    );
                    divider.position.set(i, 2.5, -2.05);
                    bus.add(divider);
                    
                    const divider2 = new THREE.Mesh(
                        new THREE.BoxGeometry(0.1, 1.2, 0.2),
                        dividerMaterial
                    );
                    divider2.position.set(i, 2.5, 2.05);
                    bus.add(divider2);
                }
                
                // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∏
                const horizontalDivider = new THREE.Mesh(
                    new THREE.BoxGeometry(7.5, 0.1, 0.2),
                    dividerMaterial
                );
                horizontalDivider.position.set(0, 2.1, -2.05);
                bus.add(horizontalDivider);
                
                const horizontalDivider2 = new THREE.Mesh(
                    new THREE.BoxGeometry(7.5, 0.1, 0.2),
                    dividerMaterial
                );
                horizontalDivider2.position.set(0, 2.9, -2.05);
                bus.add(horizontalDivider2);
                
                const horizontalDivider3 = new THREE.Mesh(
                    new THREE.BoxGeometry(7.5, 0.1, 0.2),
                    dividerMaterial
                );
                horizontalDivider3.position.set(0, 2.1, 2.05);
                bus.add(horizontalDivider3);
                
                const horizontalDivider4 = new THREE.Mesh(
                    new THREE.BoxGeometry(7.5, 0.1, 0.2),
                    dividerMaterial
                );
                horizontalDivider4.position.set(0, 2.9, 2.05);
                bus.add(horizontalDivider4);
                
                // –ü–µ—Ä–µ–¥–Ω–µ–µ –æ–∫–Ω–æ –∫–∞–±–∏–Ω—ã
                const frontWindow = new THREE.Mesh(
                    new THREE.BoxGeometry(0.3, 1.2, 3.3),
                    windowMaterial
                );
                frontWindow.position.set(4.95, 2.2, 0);
                bus.add(frontWindow);
                
                // –î–≤–µ—Ä—å 
                const door = new THREE.Mesh(
                    new THREE.BoxGeometry(1, 2, 1),
                    new THREE.MeshPhongMaterial({ color: 0xffd700 })
                );
                door.position.set(-1.25, 1.6, -1.8);
                bus.add(door);
                
                // –û–∫–Ω–æ –Ω–∞ –¥–≤–µ—Ä–∏
                const doorWindow = new THREE.Mesh(
                    new THREE.BoxGeometry(0.1, 0.8, 0.8),
                    windowMaterial
                );
                doorWindow.position.set(-0.9, 1.8, -1.6);
                bus.add(doorWindow);
                
                // –ö–æ–ª–µ—Å–∞
                const wheelGeo = new THREE.CylinderGeometry(0.6, 0.6, 0.4, 16);
                wheelGeo.rotateX(Math.PI/2);
                const wheelMat = new THREE.MeshPhongMaterial({ color: 0x333333 });
                
                const positions = [
                    { x: 2.5, z: 2.2 },
                    { x: -2.5, z: 2.2 },
                    { x: 2.5, z: -2.2 },
                    { x: -2.5, z: -2.2 }
                ];
                
                for (const pos of positions) {
                    const wheel = new THREE.Mesh(wheelGeo, wheelMat);
                    wheel.position.set(pos.x, 0.6, pos.z);
                    bus.add(wheel);
                }
                
                bus.position.set(x, y, z);
                bus.rotation.y = rotationY;
                
                return bus;
            }
            
            // –ê–≤—Ç–æ–±—É—Å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –Ω–∞ 90 –≥—Ä–∞–¥—É—Å–æ–≤ (Math.PI/2)
            env.add(createBus(0, 0.2, 30, Math.PI/2));
            
            return env;
        }
        
        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ —Å—Ü–µ–Ω—É
        scene.add(createSchool());
        scene.add(createEnvironment());
        
        // –ê–Ω–∏–º–∞—Ü–∏—è
        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
        }
        animate();
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>